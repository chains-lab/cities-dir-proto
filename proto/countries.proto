syntax = "proto3";
package citiesdir;

option go_package = "github.com/chains-lab/cities-dir-proto/gen/go/svc;svc";

import "google/protobuf/empty.proto";
import "common.proto";

service CountryService {
  rpc CreateCountry    (CreateCountryRequest)          returns (Country);
  rpc UpdateCountry    (UpdateCountryRequest)          returns (Country);
  rpc DeleteCountry    (DeleteCountryRequest)          returns (google.protobuf.Empty);

  rpc GetCountryById      (GetCountryByIdRequest)         returns (Country);
  rpc UpdateCountryStatus (UpdateCountryStatusRequest)    returns (Country);
  rpc SearchCountries     (SearchCountriesRequest)        returns (CountriesList);
}

// --------------------
// ---- REQUESTS -----
// --------------------

message CreateCountryRequest {
  string name   = 1;
  string status = 2;
}

message UpdateCountryRequest {
  string id     = 1;
  string name   = 2;
}

message DeleteCountryRequest {
  string id = 1;
}

message GetCountryByIdRequest {
  string id = 1;
}

message UpdateCountryStatusRequest {
  string id     = 1;
  string status = 2;
}

message SearchCountriesRequest {
  string name_like = 1;
  string status    = 2;
  PaginationRequest pagination = 3;
}

// --------------------
// ---- RESPONSES ----
// --------------------

message Country {
  string id     = 1;
  string name   = 2;
  string status = 3;
}

message CountriesList {
  repeated Country countries   = 1;
  PaginationResponse pagination = 2;
}