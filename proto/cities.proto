syntax = "proto3";
package citiesdir;

option go_package = "github.com/chains-lab/cities-dir-proto/gen/go/svc;svc";

import "google/protobuf/empty.proto";
import "common.proto";

service CityService {
  rpc CreateCity(CreateCityRequest)    returns (City);
  rpc GetCity(GetCityRequest)          returns (City);
  rpc SearchCities(SearchCitiesRequest) returns (CitiesList);
  rpc UpdateCityStatus(UpdateCityStatusRequest) returns (City);
  rpc UpdateCityName(UpdateCityNameRequest)     returns (City);

  rpc SysAdminUpdateCityStatus(UpdateCityStatusRequest) returns (City);

  rpc DeleteCity(DeleteCityRequest)    returns (google.protobuf.Empty);
}
// REQUESTS

message CreateCityRequest {
  string name       = 1;
  string country_id = 2;
  string status     = 3;
}

message GetCityRequest {
  string id = 1;
}

message DeleteCityRequest {
  string id = 1;
}

message SearchCitiesRequest {
  string name_like  = 1;
  string country_id = 2;
  string status     = 3;
  PaginationRequest pagination = 4;
}

message UpdateCityStatusRequest {
  string id     = 1;
  string status = 2;
}

message UpdateCityNameRequest {
  string id   = 1;
  string name = 2;
}

message City {
  string id         = 1;
  string name       = 2;
  string country_id = 3;
  string status     = 4;
}

message CitiesList {
  repeated City cities     = 1;
  PaginationResponse pagination = 2;
}