syntax = "proto3";
package country;

option go_package = "github.com/chains-lab/cities-dir-proto/gen/go/svc/country;country";

import "common/pagination/pagination.proto";

service CountryService {
  rpc GetCountryById (GetCountryByIdRequest)    returns (Country);

  rpc SearchCountries (SearchCountriesRequest)  returns (CountriesList);

  // Admin methods
  rpc CreateCountry (CreateCountryRequest) returns (Country);

  rpc UpdateCountryStatus (UpdateCountryStatusRequest) returns (Country);
  rpc UpdateCountryName   (UpdateCountryNameRequest)   returns (Country);
}

// REQUESTS

message GetCountryByIdRequest {
  string country_id = 1;
}

message SearchCountriesRequest {
  string name_like = 1;
  string status    = 2;
  pagination.Request pagination = 3;
}

message CreateCountryRequest {
  string name   = 1;
  string status = 2;
}

message UpdateCountryStatusRequest {
  string country_id = 1;
  string status     = 2;
}

message UpdateCountryNameRequest {
  string country_id = 1;
  string name       = 2;
}


// RESPONSES

message Country {
  string id     = 1;
  string name   = 2;
  string status = 3;
}

message CountriesList {
  repeated Country countries   = 1;
  pagination.Response pagination = 2;
}