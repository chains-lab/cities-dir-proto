syntax = "proto3";
package countries;

option go_package = "github.com/chains-lab/cities-dir-proto/gen/go/countries;countries";

import "google/protobuf/empty.proto";
import "common/userdata/userdata.proto";;
import "common/pagination/pagination.proto";

service CountryService {
  rpc CreateCountry    (CreateCountryRequest)          returns (Country);
  rpc UpdateCountry    (UpdateCountryRequest)          returns (Country);
  rpc DeleteCountry    (DeleteCountryRequest)          returns (google.protobuf.Empty);

  rpc GetCountryById      (GetCountryByIdRequest)         returns (Country);
  rpc UpdateCountryStatus (UpdateCountryStatusRequest)    returns (Country);
  rpc SearchCountries     (SearchCountriesRequest)        returns (CountriesList);
}

// REQUESTS

message CreateCountryRequest {
  userdata.UserData initiator = 1;
  string name   = 2;
  string status = 3;
}

message UpdateCountryRequest {
  userdata.UserData initiator = 1;
  string id     = 2;
  string name   = 3;
}

message DeleteCountryRequest {
  userdata.UserData initiator = 1;
  string id = 2;
}

message GetCountryByIdRequest {
  string id = 1;
}

message UpdateCountryStatusRequest {
  userdata.UserData initiator = 1;
  string id     = 2;
  string status = 3;
}

message SearchCountriesRequest {
  string name_like = 1;
  string status    = 2;
  pagination.Request pagination = 3;
}

// RESPONSES

message Country {
  string id     = 1;
  string name   = 2;
  string status = 3;
}

message CountriesList {
  repeated Country countries   = 1;
  pagination.Response pagination = 2;
}